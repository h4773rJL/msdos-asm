INCLUDE PERSA.BIB
.MODEL SMALL
.STACK
.DATA
	M1 DB 'DESPLAZAMIENTO Y DIRECCION DE INTERRUPCIONES',10,13,'$'
           
.CODE
INI:	MOV 	AX,@DATA
	MOV 	DS,AX
	CLS
	WRITE 	M1
	MOV	CX,20
	MOV	AX,0
	MOV 	DS,AX
	MOV	DI,AX
ANY:	PUSH 	CX
	MOV	AX,[DI]
	PUSH	AX
	INC	DI
	INC 	DI
	MOV	AX,[DI]
	PUSH	AX
	MOV 	BL,AH
        CALL    IMPRI
	POP	AX
	MOV	BL,AL
	CALL	IMPRI
	MOV 	AH,02
	MOV 	DL,':'
	INT 	21H
	POP	AX
	PUSH	AX
	MOV 	BL,AH
	CALL	IMPRI
	POP	AX
	MOV	BL,AL
	CALL	IMPRI
	MOV 	AH,02
        MOV     DL,0AH
	INT 	21H
	MOV 	AH,02
        MOV     DL,0DH
	INT 	21H
        POP 	CX
        LOOP    ANY
	MOV	AH,4CH
	INT 	21H

;INICIO DE PROCEDURES

IMPRI PROC NEAR
	PUSH	BX
	MOV	CL,04
	SHR 	BL,CL
	CMP	BL,09
	JG	S37
	ADD	BL,30H
	JMP	PD
S37:	ADD	BL,37H
PD:	MOV 	DL,BL	
	MOV 	AH,02
	INT	21H
	POP	BX
	AND	BL,0FH
	CMP	BL,09
	JG	S137
	ADD	BL,30H
	JMP	PD1
S137:	ADD	BL,37H
PD1:	MOV 	DL,BL	
	MOV 	AH,02
	INT	21H
        RET
IMPRI ENDP

END INI
